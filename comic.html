<!DOCTYPE html>
<html lang="en">
<head>
    <title>Anzhelika Akhmetova</title>
    <link rel="stylesheet" href="comic_design.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
</head>
<body>
    <header>
        <div class="navbar-orientation">
            <nav class="navbar">
                <a class="item1" href="index.html">About Me</a>
                <a class="item2" href="index.html#resume">Portfolio</a>
                <a class="item3" href="index.html#contacts">Contact Me</a>
                <a class="item4" href="#">Joke</a>
            </nav>
        </div>
    </header>

    <main>
        <div id="container" class="container">
            <div class="text">
                <h1 id="title"></h1>
                <p id="date"></p>
            </div>
            <div class="image">
                <img id="img" src="" alt="">
            </div>
        </div>
    </main>
    <script type="text/javascript">
            document.addEventListener("DOMContentLoaded", () => {
                fetch(`https://fwd.innopolis.university/api/hw2?email=a.akhmetova@innopolis.university`)
                    .then(response => response.text()) 
                    .then(data => {
                        return fetch(`https://fwd.innopolis.university/api/comic?id=${data}`);
                    })
                    .then(response => response.json())
                    .then(comic => {
                        const title = document.getElementById("title");
                        const img = document.getElementById("img");
                        const text_date = document.getElementById("date");

                        title.textContent = comic.safe_title;
                        img.src = comic.img;
                        img.alt = comic.alt;
                        text_date.textContent = (new Date(comic.year, comic.month - 1, comic.day)).toLocaleDateString();
                    });
            });
    </script>
</body>
</html>
